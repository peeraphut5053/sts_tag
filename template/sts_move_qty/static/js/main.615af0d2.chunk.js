(this.webpackJsonpsts_delivery_note=this.webpackJsonpsts_delivery_note||[]).push([[0],{389:function(e,t,a){e.exports=a(503)},394:function(e,t,a){},395:function(e,t,a){},503:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),l=(a(394),a(30)),i=(a(395),a(533)),m=a(534),d=a(530),s=a(380),u=a(202),f=a(337),g=a(336),h=a(189),_=a(306),E=a(537);function b(e){return c.a.createElement(E.a,{id:"combo-box-demo",options:e.selectValue,getOptionLabel:function(e){return e.title},style:{width:"100%",margin:10},onChange:function(t,a){e.handleSelectValue(a.title)},renderInput:function(t){return c.a.createElement(_.a,Object.assign({},t,{label:e.label,variant:"outlined"}))},size:"small"})}var v=a(355),y=a.n(v).a.create({baseURL:"http://".concat(window.location.host,"/sts_web_center/")}),p=a(375),S=a.n(p),j=a(121),O=a.n(j),w=a(360),q=a.n(w),L=a(369),x=a.n(L),T=a(361),I=a.n(T),P=a(368),R=a.n(P),M=a(250),N=a.n(M),k=a(249),A=a.n(k),D=a(362),C=a.n(D),F=a(363),B=a.n(F),Q=a(365),W=a.n(Q),z=a(366),H=a.n(z),V=a(367),U=a.n(V),X=a(370),J=a.n(X),K=a(364),Y=a.n(K),$=a(244),G=a.n($),Z=a(371),ee=a.n(Z),te=a(372),ae=a.n(te),ne=a(373),ce=a.n(ne),re=a(374),oe=a.n(re),le={Add:Object(n.forwardRef)((function(e,t){return c.a.createElement(q.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return c.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return c.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return c.a.createElement(C.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return c.a.createElement(N.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return c.a.createElement(B.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return c.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return c.a.createElement(W.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return c.a.createElement(H.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return c.a.createElement(U.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return c.a.createElement(N.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return c.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return c.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return c.a.createElement(G.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return c.a.createElement(x.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return c.a.createElement(J.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return c.a.createElement(ee.a,Object.assign({},e,{ref:t}))})),PrintIcon:Object(n.forwardRef)((function(e,t){return c.a.createElement(ae.a,Object.assign({},e,{ref:t}))})),FormatListNumberedIcon:Object(n.forwardRef)((function(e,t){return c.a.createElement(ce.a,Object.assign({},e,{ref:t}))})),CropFreeIcon:Object(n.forwardRef)((function(e,t){return c.a.createElement(oe.a,Object.assign({},e,{ref:t}))}))},ie=Object(g.a)({root:{width:"100%",margin:10},textField:{margin:5,width:"100%",padding:0},CheckLocationModal:{width:"50%",margin:50}});var me=function(e){var t=ie(),a=Object(n.useState)([]),r=Object(l.a)(a,2),o=r[0],i=r[1],m=Object(n.useState)(!1),s=Object(l.a)(m,2),g=s[0],E=s[1];Object(n.useEffect)((function(){y.get("module/API_QuantityMove/data.php?load=location_mst").then((function(e){var t=e.data.map((function(e){return{title:e.loc}}));i(t)}))}),[]);var v=c.a.createElement("div",{style:{width:"85%",margin:"5%"}},c.a.createElement(h.a,null,c.a.createElement(O.a,{style:{width:"100%",margin:5,overflowX:"scroll"},icons:le,title:"Document List",columns:[{title:"item",field:"item"},{title:"description",field:"description"},{title:"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e21\u0e31\u0e14",field:"countlot",type:"numeric"},{title:"\u0e21\u0e31\u0e14\u0e25\u0e30",field:"Uf_pack",type:"numeric"},{title:"sum qty",field:"sumqty",type:"numeric"}],data:e.ItemLoc,options:{search:!1,paging:!1,maxBodyHeight:"68vh",minBodyHeight:"68vh"}})));return c.a.createElement(h.a,{className:t.root},c.a.createElement("div",null,c.a.createElement(u.a,{open:g,onClose:function(){E(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},v)),c.a.createElement(d.a,{container:!0,alignItems:"center",direction:"row",justify:"space-between",spacing:0},e.PageState?c.a.createElement(d.a,{container:!0,alignItems:"center",direction:"row",justify:"space-between",spacing:0},c.a.createElement(d.a,{item:!0,md:4,container:!0},c.a.createElement(b,{label:"Location \u0e1b\u0e25\u0e32\u0e22\u0e17\u0e32\u0e07",selectValue:o,handleSelectValue:e.handleToLocation})),c.a.createElement(d.a,{item:!0,md:8,container:!0},c.a.createElement(_.a,{size:"small",label:"Scan tag",id:"tagScan",variant:"outlined",className:t.textField,onKeyUp:function(t){"Enter"===t.key&&(e.handleScanTag(t.target.value),document.getElementById("tagScan").value="")}}))):c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{item:!0,md:3,container:!0},c.a.createElement(_.a,{size:"small",label:"Location \u0e1b\u0e25\u0e32\u0e22\u0e17\u0e32\u0e07",variant:"outlined",className:t.textField,value:e.STS_qty_move_hdr_loc})),c.a.createElement(d.a,{item:!0,md:2,container:!0},c.a.createElement(f.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(S.a,null),style:{margin:10},disabled:!e.STS_qty_move_hdr_loc,onClick:function(){E(!0)}}," Check ")),c.a.createElement(d.a,{item:!0,md:3,container:!0},c.a.createElement(_.a,{size:"small",label:"Document ID",variant:"outlined",className:t.textField,value:e.DocNum})),c.a.createElement(d.a,{item:!0,md:4,container:!0},c.a.createElement(_.a,{size:"small",label:"Date",variant:"outlined",className:t.textField,value:e.STS_qty_move_hdr_date})))))},de=Object(g.a)({root:{padding:10,width:"99%",margin:10}});var se=function(e){var t=de();return c.a.createElement(h.a,{className:t.root},c.a.createElement(O.a,{style:{width:"100%",margin:5,overflowX:"scroll"},icons:le,title:"Quantity Move List :"+e.qtyMoveList.length+"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23",columns:[{title:"id",field:"id"},{title:"lot",field:"lot"},{title:"From location",field:"loc"},{title:"item",field:"item",width:400},{title:"\u0e40\u0e2a\u0e49\u0e19/\u0e21\u0e31\u0e14",field:"qty1",type:"numeric"},{title:"unit",field:"u_m"}],data:e.qtyMoveList,options:{search:!1,paging:!1,maxBodyHeight:"45vh",minBodyHeight:"45vh"}}))},ue=a(200),fe=a.n(ue),ge=a(376),he=a(377),_e=a(381),Ee=a(379),be=a(378),ve=a(236),ye=a(344),pe=a(323),Se=a(318),je=a(535),Oe=a(341),we=a(324),qe=function(e){Object(_e.a)(a,e);var t=Object(Ee.a)(a);function a(){return Object(ge.a)(this,a),t.apply(this,arguments)}return Object(he.a)(a,[{key:"render",value:function(){var e=this.props.qtyMoveList.reduce((function(e,t){return e+t.qty1}),0);return c.a.createElement(i.a,null,c.a.createElement(i.a,{maxWidth:"lg",style:{paddingTop:50,width:"99%"}},c.a.createElement(d.a,{container:!0},c.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"center"}},c.a.createElement(ve.a,{border:1},c.a.createElement("p",null,"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e01\u0e32\u0e23\u0e22\u0e49\u0e32\u0e22 Item Location"))),c.a.createElement(d.a,{item:!0,xs:12},c.a.createElement(ve.a,{border:1,paddingLeft:2},c.a.createElement("p",null,"Document :  ",this.props.DocNum),c.a.createElement("p",null,"Location Destination :  ",this.props.toLocation),c.a.createElement("p",null,"\u0e40\u0e27\u0e25\u0e32 : ",this.props.STS_qty_move_hdr_date))),c.a.createElement(d.a,{item:!0,xs:12},c.a.createElement(ve.a,{border:1},c.a.createElement(je.a,{component:h.a},c.a.createElement(ye.a,{"aria-label":"simple table",size:"small"},c.a.createElement(Oe.a,null,c.a.createElement(we.a,null,c.a.createElement(Se.a,{align:"right"},"#"),c.a.createElement(Se.a,{align:"center"},"lot"),c.a.createElement(Se.a,{align:"center"},"From\xa0Location"),c.a.createElement(Se.a,{align:"center"},"item"),c.a.createElement(Se.a,{align:"center"},"\u0e40\u0e2a\u0e49\u0e19/\u0e21\u0e31\u0e14"))),c.a.createElement(pe.a,null,this.props.qtyMoveList.filter((function(e){return e.qty1>1})).map((function(e,t){return c.a.createElement(we.a,{key:e.id},c.a.createElement(Se.a,{align:"right"},t+1),c.a.createElement(Se.a,{align:"right"},e.lot),c.a.createElement(Se.a,{align:"center"},e.fromloc),c.a.createElement(Se.a,{align:"right"},e.item),c.a.createElement(Se.a,{align:"right"},e.qty1))})),c.a.createElement(we.a,null,c.a.createElement(Se.a,{colSpan:3}),c.a.createElement(Se.a,null,"total"),c.a.createElement(Se.a,{align:"right"},e))))))))))}}]),a}(c.a.Component);function Le(e){var t=Object(n.useRef)(),a=Object(be.useReactToPrint)({content:function(){return t.current}});return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{variant:"contained",color:"secondary",startIcon:c.a.createElement(fe.a,null),style:{margin:10},onClick:a},"Print  "),c.a.createElement("div",{style:{textAlign:"center",height:0,overflowY:"scroll"}},c.a.createElement(qe,{ref:t,DocNum:e.DocNum,toLocation:e.toLocation,qtyMoveList:e.qtyMoveList,STS_qty_move_hdr_date:e.STS_qty_move_hdr_date})))}var xe=a(343),Te=a(90);function Ie(e){return c.a.createElement(ve.a,{display:"flex",alignItems:"center"},c.a.createElement(ve.a,{width:"100%",mr:1},c.a.createElement(xe.a,Object.assign({variant:"determinate"},e))),c.a.createElement(ve.a,{minWidth:35},c.a.createElement(Te.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}var Pe=Object(g.a)({root:{width:"100%"}});function Re(e){var t=Pe(),a=Object(n.useState)(0),r=Object(l.a)(a,2),o=r[0],i=r[1];return Object(n.useEffect)((function(){var t=1,a=setInterval((function(){i((function(t){return t>=100?0:t+100/e.listLength})),t===e.listLength+1&&(clearInterval(a),alert("\u0e22\u0e49\u0e32\u0e22\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),e.handleProcessSuccess(!1)),t+=1}),1200);return function(){clearInterval(a)}}),[]),c.a.createElement("div",{className:t.root},c.a.createElement(Ie,{value:o}))}function Me(e){var t=Object(g.a)((function(e){return{paper:{position:"absolute",width:"80%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),margin:"5%"}}}))();return c.a.createElement("div",{className:t.paper},c.a.createElement(i.a,{maxWidth:"lg",style:{padding:5}},c.a.createElement(d.a,{container:!0,spacing:3,style:{textAlign:"center"}},c.a.createElement(d.a,{item:!0,xs:4,style:{textAlign:"center"}},"  \u0e40\u0e25\u0e02\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23:",e.docNum),c.a.createElement(d.a,{item:!0,xs:4,style:{textAlign:"center"}},"  Location \u0e1b\u0e25\u0e32\u0e22\u0e17\u0e32\u0e07:",e.toLocation),c.a.createElement(d.a,{item:!0,xs:4,style:{textAlign:"center"}},"  \u0e17\u0e33\u0e01\u0e32\u0e23\u0e22\u0e49\u0e32\u0e22 Location ",e.qtyMoveList.length," \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23")),c.a.createElement(d.a,{container:!0,spacing:3,style:{textAlign:"center"}},c.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"center"}},c.a.createElement(Re,{listLength:e.qtyMoveList.length,handleProcessSuccess:e.handleProcessSuccess}))),c.a.createElement(d.a,{container:!0,spacing:3,style:{textAlign:"center"}},c.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"center"}}))))}var Ne=function(e){var t=Object(n.useState)(),a=Object(l.a)(t,2),r=a[0],o=a[1],m=Object(n.useState)([]),g=Object(l.a)(m,2),h=g[0],_=g[1],E=Object(n.useState)(""),b=Object(l.a)(E,2),v=b[0],p=b[1],S=Object(n.useState)(!1),j=Object(l.a)(S,2),O=j[0],w=j[1],q=Object(n.useState)(!1),L=Object(l.a)(q,2),x=L[0],T=L[1];Object(n.useEffect)((function(){w(!1)}),[x]);var I=c.a.createElement("div",null,c.a.createElement(Me,{docNum:v,toLocation:r,qtyMoveList:h,handleProcessSuccess:function(t){w(!1),T(t),e.setPageState(t)}}));return c.a.createElement(i.a,{maxWidth:"lg",style:{padding:5}},c.a.createElement("div",null,c.a.createElement(u.a,{open:O,onClose:function(){w(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},I)),c.a.createElement(d.a,{container:!0,spacing:3,style:{textAlign:"center"}},c.a.createElement(me,{handleScanTag:function(e){y.get("module/API_QuantityMove/data.php?load=SearchTagDetail&tag_id=".concat(e)).then((function(e){var t=e.data;e.data.length>0?_((function(e){return[].concat(Object(s.a)(e),[{id:t[0].id,lot:t[0].lot,loc:t[0].loc,item:t[0].item,qty1:t[0].qty1,u_m:t[0].u_m}])})):alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a Tags")}))},handleToLocation:function(e){o(e)},DocNum:e.DocNum,STS_qty_move_hdr_loc:e.STS_qty_move_hdr_loc,STS_qty_move_hdr_date:e.STS_qty_move_hdr_date,PageState:e.PageState,qtyMoveList:h,ItemLoc:e.ItemLoc}),c.a.createElement(se,{qtyMoveList:e.PageState?h:e.STS_qty_move_line}),c.a.createElement("div",{style:{width:"100%",padding:15}},e.PageState?c.a.createElement(f.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(fe.a,null),style:{margin:10},onClick:function(){r?(w(!0),y.get("module/API_QuantityMove/data.php?load=moveqty_create_hdr&toLoc=".concat(r)).then((function(e){var t=e.data;if(p(t.doc_num),o(t.loc),h.length>0)var a=1,n=setInterval((function(){y.get("module/API_QuantityMove/data.php?load=moveqty_create_line&docnum=".concat(t.doc_num,"&docline=").concat(a,"&tagnum=").concat(h[a-1].id,"&toLoc=").concat(r)).then((function(e){console.log("Call API moveqty_create_line")})),a===h.length&&(clearInterval(n),_([])),a+=1}),1e3)}))):(alert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01 location \u0e1b\u0e25\u0e32\u0e22\u0e17\u0e32\u0e07"),w(!1))}},"Save  "):c.a.createElement(Le,{DocNum:e.DocNum,toLocation:e.STS_qty_move_hdr_loc,qtyMoveList:e.STS_qty_move_line,STS_qty_move_hdr_date:e.STS_qty_move_hdr_date}))))};function ke(e){return c.a.createElement(h.a,null,c.a.createElement(O.a,{style:{width:"100%",margin:5,overflowX:"scroll"},icons:le,title:"Document List",columns:[{title:"Doc num",field:"doc_num"},{title:"date",field:"create_date.date",type:"date"},{title:"To location",field:"loc"}],onRowClick:function(t,a){var n;n=a,e.handleDocNum(n.doc_num),e.handleSTS_qty_move_hdr_loc(n.loc),e.handleSTS_qty_move_hdr_date(n.create_date.date),y.get("module/API_QuantityMove/data.php?load=STS_qty_move_line&doc_num=".concat(n.doc_num)).then((function(t){e.handleSTS_qty_move_line(t.data)})),y.get("module/API_QuantityMove/data.php?load=checkItemLotLoc&loc=".concat(n.loc)).then((function(t){console.log(t.data),e.handlecheckItemLotLoc(t.data)}))},data:e.STS_qty_move_hrd,options:{search:!1,paging:!1,maxBodyHeight:"68vh",minBodyHeight:"68vh"}}))}var Ae=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!0),s=Object(l.a)(o,2),u=(s[0],s[1],Object(n.useState)("")),f=Object(l.a)(u,2),g=f[0],h=f[1],_=Object(n.useState)(""),E=Object(l.a)(_,2),b=E[0],v=E[1],p=Object(n.useState)(""),S=Object(l.a)(p,2),j=S[0],O=S[1],w=Object(n.useState)([]),q=Object(l.a)(w,2),L=q[0],x=q[1],T=Object(n.useState)([]),I=Object(l.a)(T,2),P=I[0],R=I[1],M=Object(n.useState)([]),N=Object(l.a)(M,2),k=N[0],A=N[1];return Object(n.useEffect)((function(){y.get("module/API_QuantityMove/data.php?load=STS_qty_move_hrd").then((function(e){R(e.data)}))}),[a]),c.a.createElement(i.a,{maxWidth:"lg",style:{padding:5}},c.a.createElement(d.a,{container:!0,spacing:3},c.a.createElement(d.a,{item:!0,xs:a?2:5,hidden:!!a,style:{textAlign:"center"}},c.a.createElement(ke,{STS_qty_move_hrd:P,handleDocNum:function(e){return h(e)},handleSTS_qty_move_hdr_loc:function(e){return v(e)},handleSTS_qty_move_hdr_date:function(e){O(e)},handleSTS_qty_move_line:function(e){return x(e)},handlecheckItemLotLoc:function(e){return A(e)}})),c.a.createElement(d.a,{item:!0,xs:a?12:7},c.a.createElement(m.a,{checked:a,onChange:function(){return r((function(e){return!e}))}}),a?"Create":"View",c.a.createElement(Ne,{PageState:a,DocNum:g,STS_qty_move_hdr_loc:b,STS_qty_move_hdr_date:j,STS_qty_move_line:L,setPageState:function(e){r(e)},ItemLoc:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[389,1,2]]]);
//# sourceMappingURL=main.615af0d2.chunk.js.map